/*
 * userChrome.css - Configuration Firefox Aurélien Luxey
 * Version optimisée développeur
 * À placer dans: ~/.mozilla/firefox/{profil}/chrome/userChrome.css
 * Nécessite: toolkit.legacyUserProfileCustomizations.stylesheets = true
 */

/* === VARIABLES GLOBALES === */
:root {
  --toolbar-bgcolor: #1e1e1e !important;
  --toolbar-color: #ffffff !important;
  --toolbar-hover: rgba(255, 255, 255, 0.1) !important;
  --toolbar-active: rgba(255, 255, 255, 0.2) !important;

  --tab-active-bg: #0078d4 !important;
  --tab-inactive-bg: #2d2d2d !important;
  --tab-hover-bg: #3a3a3a !important;
  --tab-color: #ffffff !important;
  --tab-close-hover: rgba(255, 68, 68, 0.7) !important;

  --tab-min-width: 120px !important;
  --tab-max-width: 280px !important;
  --tab-height: 34px !important;

  --urlbar-bg: #2d2d2d !important;
  --urlbar-border: #404040 !important;
  --urlbar-focus: #0078d4 !important;
  --urlbar-text: #ffffff !important;

  --sidebar-bg: #1a1a1a !important;
  --sidebar-border: #333333 !important;

  --menu-bg: #2d2d2d !important;
  --menu-border: #404040 !important;
  --menu-hover: #3a3a3a !important;

  --accent-color: #0078d4 !important;
  --success-color: #28a745 !important;
  --warning-color: #ffc107 !important;
  --error-color: #dc3545 !important;

  /* Animations */
  --transition-fast: 0.1s ease-in-out !important;
  --transition-normal: 0.2s ease-in-out !important;
}

/* === BARRE D'OUTILS PRINCIPALE === */
#nav-bar {
  background-color: var(--toolbar-bgcolor) !important;
  border: none !important;
  height: 36px !important;
  padding: 2px 8px !important;
}

#nav-bar .toolbarbutton-1 {
  margin: 0 2px !important;
  padding: 4px 6px !important;
  border-radius: 4px !important;
  transition: background-color var(--transition-fast) !important;
}

#nav-bar .toolbarbutton-1:hover {
  background: var(--toolbar-hover) !important;
}

/* === ONGLET CONTENEUR VISUEL === */
.tabbrowser-tab[usercontextid] .tab-background {
  border-top: 3px solid var(--identity-tab-color, var(--accent-color)) !important;
}

/* Onglet actif */
.tabbrowser-tab[selected="true"] .tab-background {
  background: var(--tab-active-bg) !important;
  border: none !important;
  box-shadow: 0 -2px 0 var(--accent-color) !important;
}

/* Onglets inactifs */
.tabbrowser-tab:not([selected]) .tab-background {
  background: var(--tab-inactive-bg) !important;
  border: none !important;
}

/* Bouton fermer onglet */
.tabbrowser-tab .tab-close-button {
  border-radius: 50% !important;
  opacity: 0.6 !important;
}
.tabbrowser-tab .tab-close-button:hover {
  background: var(--tab-close-hover) !important;
  opacity: 1 !important;
}

/* === BARRE D'ADRESSE === */
#urlbar {
  background: var(--urlbar-bg) !important;
  border: 1px solid var(--urlbar-border) !important;
  border-radius: 8px !important;
  color: var(--urlbar-text) !important;
  padding-inline: 10px !important;
  height: 28px !important;
  font-size: 14px !important;
  transition: all var(--transition-normal) !important;
}

/* Icônes dans la barre d'adresse */
#urlbar .urlbar-icon {
  fill: var(--urlbar-text) !important;
  opacity: 0.9 !important;
}

/* === NE PAS CACHER L’IDENTITÉ DU SITE === */
#identity-box,
#tracking-protection-icon-container {
  display: inline-flex !important;
  opacity: 0.85 !important;
}

/* === SCROLLBARS === */
scrollbar {
  width: 8px !important;
}
scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3) !important;
  border-radius: 4px !important;
}

/* === RESPONSIVE === */
@media (max-width: 1200px) {
  :root {
    --tab-min-width: 100px !important;
  }
}
@media (max-width: 800px) {
  #PersonalToolbar { display: none !important; }
}
